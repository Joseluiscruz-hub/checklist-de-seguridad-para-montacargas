import{N as i,ca as n}from"./chunk-HPYFT727.js";var a=class a{constructor(){this.storageInfo=n(null);this.isNearLimit=n(!1);this.checkStorage()}async checkStorage(){if("storage"in navigator&&"estimate"in navigator.storage)try{let e=await navigator.storage.estimate(),t=e.usage||0,o=e.quota||0,r=o>0?t/o*100:0,s={usage:t,quota:o,usagePercentage:r,usageMB:t/(1024*1024),quotaMB:o/(1024*1024)};return this.storageInfo.set(s),this.isNearLimit.set(r>80),s}catch(e){return console.error("Error al verificar almacenamiento:",e),null}return null}getStorageWarning(){let e=this.storageInfo();return e?e.usagePercentage>90?`\u26A0\uFE0F Almacenamiento cr\xEDtico: ${e.usagePercentage.toFixed(1)}% usado (${e.usageMB.toFixed(1)} MB de ${e.quotaMB.toFixed(1)} MB). Considere exportar y eliminar datos antiguos.`:e.usagePercentage>80?`\u26A0\uFE0F Almacenamiento alto: ${e.usagePercentage.toFixed(1)}% usado (${e.usageMB.toFixed(1)} MB de ${e.quotaMB.toFixed(1)} MB).`:null:null}formatBytes(e){if(e===0)return"0 Bytes";let t=1024,o=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(t));return Math.round(e/Math.pow(t,r)*100)/100+" "+o[r]}};a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=i({token:a,factory:a.\u0275fac,providedIn:"root"});var u=a;export{u as a};
